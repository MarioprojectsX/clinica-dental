---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import CitaForm from "../../components/CitaForm.astro";
import { CONVERSION_LABELS } from '../../config/googleAds.js';

const alternates = {
  es: "/es/cita",
  ca: "/ca/cita",
  en: "/en/cita",
};
---

<BaseLayout
  description="Solicita tu cita en Clínica Dental Sueca. Primera valoración gratuita."
  locale="es"
  {alternates}
>
  <Header locale="es" currentPath="/es/cita" {alternates} />

  <!-- ========================= HERO FORMULARIO ========================= -->
  <section
    class="cita-hero"
    style="--bg:url('/assets/pedir-hero.png')" 
    aria-label="Formulario de cita"
  >
    <div class="cita-hero__overlay"></div>

    <div class="cita-hero__inner container">
      <div class="cita-hero__card">
        <CitaForm locale="es" />
      </div>
    </div>
  </section>

  <Footer locale="es" />
  
  <script is:inline define:vars={{ CONVERSION_LABELS }}>
    // Google Ads conversion tracking - Appointment page view
    if (typeof window.trackConversion !== 'undefined') {
      window.trackConversion(CONVERSION_LABELS.APPOINTMENT_PAGE_VIEW);
    }
  </script>
</BaseLayout>
